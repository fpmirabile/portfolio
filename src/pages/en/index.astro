---
import Layout from "../../layouts/Layout.astro";
import FloatingMenu from "../../components/sections/FloatingMenu.svelte";
import HeroSection from "../../components/sections/HeroSection.astro";
import TechStack from "../../components/sections/TechStack.astro";
import TechJourney from "../../components/sections/TechJourney.astro";
import SideProjects from "../../components/sections/SideProjects.astro";
import Education from "../../components/sections/Education.astro";
import Footer from "../../components/sections/Footer.astro";
import LanguageSelector from "../../components/sections/LanguageSelector.astro";
import ThemeManager from "../../components/ThemeManager.astro";
import type { Technology } from "../../types";

import enTranslations from "../../i18n/en.json";
import commonData from "../../constants/data.json";

const t = enTranslations;
const { technologies, certifications, workExperience, sideProjects } = commonData;
---

<Layout
  title={t.meta.title}
  description={t.meta.description}
  lang={t.meta.lang}
>
  <FloatingMenu
    client:idle
    texts={{
      cvText: t.menu.cvText,
      cvSubtitle: t.menu.cvSubtitle,
      emailTitle: t.menu.emailTitle,
      emailSubtitle: t.menu.emailSubtitle,
      linkedinTitle: t.menu.linkedinTitle,
      linkedinSubtitle: t.menu.linkedinSubtitle,
      githubTitle: t.menu.githubTitle,
      githubSubtitle: t.menu.githubSubtitle,
      themeText: t.menu.themeText,
      themes: {
        light: t.menu.themes.light,
        dark: t.menu.themes.dark,
      },
    }}
  />

  <main class="min-h-screen">
    <section class="relative py-20 lg:py-32 overflow-hidden">
      <div class="max-w-6xl mx-auto px-6">
        <HeroSection texts={t.hero}>
          <LanguageSelector
            slot="language-selector"
            currentLang="en"
            languageText={t.menu.languageText}
          />
          <TechStack
            technologies={technologies as Technology[]}
            title={t.techStack.title}
            clickHint={t.techStack.clickHint}
            overlayTexts={t.techStack.overlay}
            levels={t.techStack.levels}
            client:visible
          />
        </HeroSection>
      </div>
    </section>

    <TechJourney
      journeyTitle={t.journey.title}
      journeyDesc={t.journey.description}
      workExperience={workExperience}
      achievements={t.journey.achievements}
    />
    <SideProjects
      sideProjectsTitle={t.sideProjects.title}
      sideProjectsDesc={t.sideProjects.description}
      sideProjects={sideProjects}
    />
    <Education texts={t.education} certifications={certifications} />
  </main>

  <Footer footerText={t.footer.text} />
  <ThemeManager />
</Layout>
