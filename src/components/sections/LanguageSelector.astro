---
import {
  SUPPORTED_LANGUAGES,
  LANGUAGE_FLAGS,
  LANGUAGE_NAMES,
} from "../../utils/language";
import type { SupportedLanguage } from "../../types";

interface Props {
  currentLang: SupportedLanguage;
  languageText: string;
}

const { currentLang, languageText } = Astro.props;
---

<div class="relative z-20 flex justify-start items-center gap-x-4 mb-6">
  <span class="text-sm font-medium text-muted-foreground mr-2">
    {languageText}:
  </span>
  <div class="flex items-center gap-x-3">
    {
      SUPPORTED_LANGUAGES.map((lang) =>
        currentLang === lang ? (
          <span
            class="flex items-center gap-x-2 opacity-100 cursor-default"
            aria-label={`Current language: ${LANGUAGE_NAMES[lang]}`}
          >
            <span class="text-2xl">{LANGUAGE_FLAGS[lang]}</span>
          </span>
        ) : (
          <a
            href={`/${lang}`}
            class="flex items-center gap-x-2 transition-opacity duration-300 opacity-50 hover:opacity-100"
            aria-label={`Switch to ${LANGUAGE_NAMES[lang]}`}
          >
            <span class="text-2xl">{LANGUAGE_FLAGS[lang]}</span>
          </a>
        )
      )
    }
  </div>
</div>
