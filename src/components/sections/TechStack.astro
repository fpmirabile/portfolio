---
import type { Technology } from "../../types";
import TechStackContainer from "../common/TechStackContainer.svelte";

interface Props {
  technologies: Technology[];
  title: string;
  clickHint: string;
  overlayTexts: {
    levelLabel: string;
    descriptionLabel: string;
    projectsLabel: string;
    closeButton: string;
    yearsText: string;
  };
  levels: {
    beginner: string;
    intermediate: string;
    advanced: string;
    expert: string;
  };
  techDescriptions: Record<string, string>;
}

const { technologies, title, clickHint, overlayTexts, levels, techDescriptions } = Astro.props;

const technologiesWithDescriptions = technologies.map(tech => ({
  ...tech,
  description: techDescriptions[tech.name] || ""
}));
---

<div class="relative">
  <div
    class="glass-effect rounded-2xl p-8 relative flex flex-col"
    style="height: 600px; max-height: 80vh;"
  >
    <h3 class="text-lg font-semibold text-primary mb-4 flex-shrink-0" id="techStackText">
      {title}
    </h3>

    <div class="flex-1 min-h-0 overflow-hidden">
      <TechStackContainer
        technologies={technologiesWithDescriptions}
        overlayTexts={overlayTexts}
        levels={levels}
        client:visible
      />
    </div>

    <div class="mt-4 text-xs text-muted-foreground text-center flex-shrink-0">
      ðŸ’¡ <span id="clickTechHint">{clickHint}</span>
    </div>
  </div>
</div>
