---
import type { Technology } from "../../types";
import TechButton from "../common/TechButton.astro";
import SkillDemoOverlay from "../common/SkillDemoOverlay.astro";

export interface Props {
  technologies: Technology[];
  title: string;
  clickHint: string;
  overlayTexts: {
    levelLabel: string;
    descriptionLabel: string;
    projectsLabel: string;
    closeButton: string;
    yearsText: string;
  };
  levels: {
    beginner: string;
    intermediate: string;
    advanced: string;
    expert: string;
  };
}

const { technologies, title, clickHint, overlayTexts, levels } = Astro.props;
---

<div class="relative">
  <div class="glass-effect rounded-2xl p-8 relative overflow-hidden">
    <h3 class="text-lg font-semibold text-primary mb-4" id="techStackText">
      {title}
    </h3>

    <!-- Interactive Demo Overlay -->
    <SkillDemoOverlay
      technologies={technologies}
      overlayTexts={overlayTexts}
      levels={levels}
    />

    <div class="grid grid-cols-2 gap-3" id="technologiesGrid">
      {
        technologies.map((tech) => (
          <TechButton
            name={tech.name}
            category={tech.category}
            years={tech.years}
          />
        ))
      }
    </div>

    <div class="mt-4 text-xs text-muted-foreground text-center">
      ðŸ’¡ <span id="clickTechHint">{clickHint}</span>
    </div>
  </div>
</div>
