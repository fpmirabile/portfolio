---
import type { SideProject } from "../../types";
import Timeline from "../common/Timeline.svelte";

interface Props {
  sideProjectsTitle: string;
  sideProjectsDesc: string;
  sideProjects: SideProject[];
  projectDescriptions: Record<string, string>;
}

const {
  sideProjectsTitle,
  sideProjectsDesc,
  sideProjects,
  projectDescriptions,
} = Astro.props;
const timelineItems = sideProjects.map((project) => ({
  year: project.year,
  title: project.name,
  description: projectDescriptions[project.name] || "",
  tech: project.technologies,
  url: project.url,
  status: project.status,
  role: project.role,
}));
---

<section class="py-20 bg-background">
  <div class="max-w-6xl mx-auto px-6">
    <div class="text-center mb-16 animate-fade-in-up">
      <h2
        class="text-3xl lg:text-4xl font-bold text-primary mb-4"
        id="sideProjectsTitle"
      >
        {sideProjectsTitle}
      </h2>
      <p
        class="text-xl text-muted-foreground max-w-2xl mx-auto"
        id="sideProjectsDesc"
      >
        {sideProjectsDesc}
      </p>
    </div>

    <Timeline items={timelineItems} variant="side" client:load />
  </div>
</section>
